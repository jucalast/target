# =======================
# Production Environment
# =======================
# WARNING: This file contains sensitive information.
# DO NOT commit to version control.
# Add to .gitignore

# Application Settings
# ===================
DEBUG=False
ENVIRONMENT=production
LOG_LEVEL=INFO
APP_NAME=TargetAnalysisPlatform
APP_VERSION=1.0.0
API_PREFIX=/api/v1

# Security
# ========
# Generate a secure secret key with: openssl rand -hex 32
# IMPORTANT: Change this to a secure random value in production
SECRET_KEY=generate-a-secure-random-secret-key-here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 hours

# Database - PostgreSQL
# ====================
POSTGRES_HOST=postgres_db
POSTGRES_PORT=5432
POSTGRES_DB=target_analysis_prod
POSTGRES_USER=prod_db_user
POSTGRES_PASSWORD=generate-a-secure-password-here
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# MongoDB
# =======
MONGO_INITDB_ROOT_USERNAME=root
MONGO_INITDB_ROOT_PASSWORD=generate-a-secure-password-here
MONGO_INITDB_DATABASE=target_analysis_prod
MONGO_HOST=mongo_db
MONGO_PORT=27017
MONGO_URI=mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@${MONGO_HOST}:${MONGO_PORT}/

# NLP Configuration
# ================
NLP_MODEL_NAME=sentence-transformers/all-MiniLM-L6-v2
NLP_CACHE_DIR=/app/.cache
NLP_DEVICE=cpu  # Set to 'cuda' if GPU is available

# ETL Configuration
# ================
ETL_CACHE_DIR=/app/etl_cache
ETL_MAX_WORKERS=8
ETL_BATCH_SIZE=500

# IBGE API (SIDRA)
# ===============
# Get your API key from: https://apisidra.ibge.gov.br/
IBGE_API_KEY=your-production-ibge-api-key
IBGE_CACHE_TTL=86400  # 24 hours in seconds

# CORS (Cross-Origin Resource Sharing)
# ==================================
# Update with your production domains
CORS_ORIGINS=["https://yourdomain.com", "https://www.yourdomain.com"]
CORS_METHODS=["GET", "POST", "PUT", "DELETE"]
CORS_HEADERS=["Content-Type", "Authorization"]
CORS_CREDENTIALS=true

# Rate Limiting
# ============
RATE_LIMIT_DEFAULT=1000/hour
RATE_LIMIT_AUTH=100/hour

# Email (for notifications)
# ========================
SMTP_SERVER=your-smtp-server.com
SMTP_PORT=587
SMTP_USER=your-email@yourdomain.com
SMTP_PASSWORD=your-smtp-password
EMAIL_FROM=noreply@yourdomain.com

# Redis Cache
# ===========
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=generate-a-secure-redis-password
CACHE_TTL=3600  # 1 hour

# Feature Flags
# ============
FEATURE_ANALYTICS_DASHBOARD=true
FEATURE_ADVANCED_NLP=true
FEATURE_EMAIL_NOTIFICATIONS=true

# Monitoring and Logging
# =====================
SENTRY_DSN=your-sentry-dsn-here
LOGSTASH_HOST=logstash
LOGSTASH_PORT=5000

# Security Headers
# ================
SECURE_HSTS_SECONDS=31536000  # 1 year
SECURE_CONTENT_TYPE_NOSNIFF=True
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block

# Backup Configuration
# ===================
BACKUP_ENABLED=True
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
